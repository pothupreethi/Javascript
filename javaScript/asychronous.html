<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Document</title>
        <style>
            img {
                width: 100px;
                height: 100px;
            }
        </style>
    </head>

    <body>

        <div id="console-root"></div>
        <script src="https://tap.ibhubs.in/utils/console.js"></script>
        <script>
            //reject
            //catch
            function loadImageWithPromise(url) {
                return new Promise((resolve, reject) => {
                    const image = document.createElement('img');
                    image.onload = () => {
                        console.log(`${url} Image is loading`);
                        //resolve("Random");
                        // reject(new Error("image loading error"));
                        resolve(image);

                    }
                    //reject("rejected");
                    //console.log("after reject");
                    //throw ("image loading error")
                    //random();
                    console.log("after reject");
                    setTimeout(() => {
                        image.src = url;
                    }, 3000);
                })

            }
            loadImageWithPromise("../portfolio-website/img_2.jpg").then((response) => {
                //console.log(response);
                document.body.appendChild(response);
                return loadImageWithPromise("../portfolio-website/img_1.jpg");
            }).then((response) => {
                console.log(response);
                document.body.appendChild(response);
                return loadImageWithPromise("../portfolio-website/img_3.jpg")
            }).then((response) => {
                document.body.appendChild(response);
            }).catch((e)=>{
                
            })
        </script>

    </body>

</html>
